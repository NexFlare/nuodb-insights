# While an existing grafana instance with a sidecar
# looking for dashboards will automatically pick up
# the newly installed dashboards,  the install will
# not pick up the newly installed datasource.
#
# restart existing grafana instance after deployment.
#
grafana:
  enabled: false
  namespaceOverride: monitoring
  sidecar:
    dashboards:
      folder: "/var/lib/grafana/dashboards"

# influxdb was installed in monitor namespace also (via helm package m)
influxdb:
  enabled: false

# start nuoca, will send metrics to influxdb started before
nuoca:
  enabled: true
  nuoadmin:
    host: nuodb.default.svc.cluster.local
  influxdb:
    host: m-influxdb.monitoring.svc.cluster.local

config:
  enabled: true
  # install the k8s dashboards into folder k8s under the grafana.sidecar.dashboards.folder root
  # currently there is no way to map k8s to a different name folder.  This assumes that
  # existing grafana has a sidecar that can map to this directory and a dashboard provider for that
  # dashboard
  dashboards:
    - k8s
  # install configmap for telegraf db in the influxdb enabled in nuoca
  # after installing this datasource, the grafana instance will need to be restarted.
  databases:
    # same influxdb server but different database for
    # above dashboards
    - telegraf
  
